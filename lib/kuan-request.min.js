!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("@babel/runtime/regenerator"),require("@babel/runtime/helpers/asyncToGenerator"),require("axios"),require("@babel/runtime/helpers/typeof"),require("blueimp-md5"),require("js-sha256"),require("hash.js")):"function"==typeof define&&define.amd?define("kuan-request",["@babel/runtime/regenerator","@babel/runtime/helpers/asyncToGenerator","axios","@babel/runtime/helpers/typeof","blueimp-md5","js-sha256","hash.js"],n):"object"==typeof exports?exports["kuan-request"]=n(require("@babel/runtime/regenerator"),require("@babel/runtime/helpers/asyncToGenerator"),require("axios"),require("@babel/runtime/helpers/typeof"),require("blueimp-md5"),require("js-sha256"),require("hash.js")):e["kuan-request"]=n(e["@babel/runtime/regenerator"],e["@babel/runtime/helpers/asyncToGenerator"],e.axios,e["@babel/runtime/helpers/typeof"],e["blueimp-md5"],e["js-sha256"],e["hash.js"])}(this,function(t,r,o,i,a,s,u){return l={},c.m=d=[function(e,n){e.exports=t},function(e,n,t){"use strict";e.exports=function(t){var a=[];return a.toString=function(){return this.map(function(e){var n=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(i).concat([o]).join("\n")}return[t].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},a.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var t={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(t[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];null!=i[0]&&t[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),a.push(i))}},a}},function(e,n,t){"use strict";function u(e,n){for(var t=[],r={},o=0;o<n.length;o++){var i=n[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):t.push(r[a]={id:a,parts:[s]})}return t}t.r(n),t.d(n,"default",function(){return m});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},o=r&&(document.head||document.getElementsByTagName("head")[0]),i=null,a=0,d=!1,s=function(){},l=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(a,e,n,t){d=n,l=t||{};var s=u(a,e);return h(s),function(e){for(var n=[],t=0;t<s.length;t++){var r=s[t];(o=c[r.id]).refs--,n.push(o)}e?h(s=u(a,e)):s=[];for(t=0;t<n.length;t++){var o;if(0===(o=n[t]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete c[o.id]}}}}function h(e){for(var n=0;n<e.length;n++){var t=e[n],r=c[t.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](t.parts[o]);for(;o<t.parts.length;o++)r.parts.push(v(t.parts[o]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var i=[];for(o=0;o<t.parts.length;o++)i.push(v(t.parts[o]));c[t.id]={id:t.id,refs:1,parts:i}}}}function b(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function v(n){var t,r,e=document.querySelector("style["+f+'~="'+n.id+'"]');if(e){if(d)return s;e.parentNode.removeChild(e)}if(p){var o=a++;e=i=i||b(),t=x.bind(null,e,o,!1),r=x.bind(null,e,o,!0)}else e=b(),t=function(e,n){var t=n.css,r=n.media,o=n.sourceMap;r&&e.setAttribute("media",r);l.ssrId&&e.setAttribute(f,n.id);o&&(t+="\n/*# sourceURL="+o.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,e),r=function(){e.parentNode.removeChild(e)};return t(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;t(n=e)}else r()}}var g,y=(g=[],function(e,n){return g[e]=n,g.filter(Boolean).join("\n")});function x(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}},function(e,n){e.exports=r},function(e,n){e.exports=o},function(e,n){e.exports=i},function(e,n){e.exports=a},function(e,n){e.exports=s},function(e,n,t){var r=t(9);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(2).default)("59d5872f",r,!0,{})},function(e,n,t){(e.exports=t(1)(!1)).push([e.i,"@-webkit-keyframes mint-spinner-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes mint-spinner-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n#kuan-loading {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  z-index: 8000;\n  display: none;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column; }\n  #kuan-loading .spinner-wrap {\n    padding: 8px;\n    border-radius: 5px;\n    background-color: rgba(0, 0, 0, 0.5); }\n  #kuan-loading .spinner-snake {\n    -webkit-animation: mint-spinner-rotate 0.8s infinite linear;\n            animation: mint-spinner-rotate 0.8s infinite linear;\n    border: 4px solid rgba(0, 0, 0, 0.7);\n    border-top-color: #cccccc;\n    border-left-color: #cccccc;\n    border-bottom-color: #cccccc;\n    height: 32px;\n    width: 32px;\n    border-radius: 50%; }\n  #kuan-loading .loading-tip {\n    line-height: 3;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.7); }\n",""])},function(e,n,t){var r=t(11);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(2).default)("62732538",r,!0,{})},function(e,n,t){(e.exports=t(1)(!1)).push([e.i,"#kuan-toast {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  z-index: 8001; }\n  #kuan-toast > .toast-item {\n    border-radius: 5px;\n    background: rgba(0, 0, 0, 0.7);\n    color: #fff;\n    text-align: center;\n    max-width: 80%;\n    padding: 5px 8px;\n    opacity: 0.8;\n    font-size: 14px;\n    margin-bottom: 10px; }\n",""])},function(e,n){e.exports=u},function(n,t,r){"use strict";r.r(t);var o=r(0),C=r.n(o),i=r(3),l=r.n(i),a=r(4),f=r.n(a);r(8);function s(){if("undefined"!=typeof document){var e=document.getElementById("kuan-loading");e&&(e.style.display="none")}}var u={show:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.text,t=void 0===n?"":n,r=e.delay,o=void 0===r?1e7:r;if("undefined"!=typeof document){void 0;var i=document.getElementById("kuan-loading");i||((i=document.createElement("div")).id="kuan-loading",document.body.appendChild(i)),i.innerHTML='\n    <div class="spinner-wrap">\n      <div class="spinner-snake"></div>\n      <span class="loading-tip">'.concat(t,"</span>\n    </div>\n  "),i.style.display="flex",setTimeout(s,o)}},hide:s},p={num:0,show:function(){this.num+=1,1===this.num&&u.show()},hide:function(e){if(0<arguments.length&&void 0!==e&&e)return this.num=0,void u.hide();0<this.num&&(this.num-=1),0===this.num&&u.hide()}};r(10);function m(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3;if("undefined"!=typeof document){var t=document.getElementById("kuan-toast");t||((t=document.createElement("div")).id="kuan-toast",document.body.appendChild(t)),t.style.display="flex";var r=document.createElement("div");r.className="toast-item",r.textContent=e,t.appendChild(r),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300,n=1<arguments.length?arguments[1]:void 0;if("undefined"==typeof document)return;setTimeout(function(){var e=document.getElementById("kuan-toast");e&&(n?e.removeChild(n):e.innerHTML="",e.getElementsByClassName("toast-item").length||(e.style.display="none"))},e)}(n,r)}}var c={400:"请求有错误",401:"没有权限",403:"用户得到授权，但是访问是被禁止的。",404:"404 未找到",405:"请求method错误",406:"请求的格式不可得。",410:"请求的资源被永久删除",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误",502:"网关错误",503:"服务不可用",504:"网络超时"};function q(e){var n=(0<arguments.length&&void 0!==e?e:{}).response||{},t=n.status,r=void 0===t?"":t,o=n.data,i=void 0===o?{}:o;return r?i.info||i.msg||c[r]||"请求失败":"网络超时"}function T(e){var n=((0<arguments.length&&void 0!==e?e:{}).response||{}).status;return void 0===n?0:n}function h(){}var E={};function d(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.loading,g=void 0===t?p:t,r=n.toast,y=void 0===r?m:r,o=n.setHeaders,i=void 0===o?h:o,a=n.handleError,x=void 0===a?h:a,s=n.loginForce,k=void 0===s?null:s,u=n.createOptions,c=void 0===u?{}:u,d=n.maxCount,w=void 0===d?1:d,j=f.a.create(c);return j.interceptors.request.use(function(e){var n=i(e)||{};for(var t in n){var r=n[t];e.headers[t]=r}return e}),function(){var n=l()(C.a.mark(function n(t){var r,o,i,a,s,u,c,d,l,f,p,m,h,b,v=arguments;return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(r=1<v.length&&void 0!==v[1]?v[1]:{}).shouldLoading,i=void 0===o||o,a=r.shouldToast,s=void 0===a||a,u=r.shouldCache,!(c=void 0!==u&&u)){n.next=5;break}if(d=E[t.url])return n.abrupt("return",d);n.next=5;break;case 5:i&&g.show(),l=0;case 7:if(l<w+1)return n.prev=8,n.next=11,j(t);n.next=41;break;case 11:if(f=n.sent,p=f.data,i&&g.hide(),c&&(E[t.url]=p.data),p.success||p.iRet){n.next=22;break}throw m=p.info||p.error||"",(h=new Error(m)).response=f,s&&y(q(e)),x(h),h;case 22:return n.abrupt("return",p.data);case 25:if(n.prev=25,n.t0=n.catch(8),!(l<w)){n.next=34;break}if(b=T(n.t0),console.log(11,b),401===b&&k)return n.next=33,k();n.next=34;break;case 33:return n.abrupt("continue",38);case 34:return i&&g.hide(!0),s&&y(q(n.t0)),x(n.t0),n.abrupt("return",Promise.reject(n.t0));case 38:l++,n.next=7;break;case 41:case"end":return n.stop()}},n,null,[[8,25]])}));return function(e){return n.apply(this,arguments)}}()}var b=r(5),v=r.n(b),g=r(6),y=r.n(g),x=(r(12),r(7));function k(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;if(!e)return"";var t=Object.keys(r).sort().reduce(function(e,n){var t=r[n];return["number","string"].includes(v()(t))&&(t=(t+"").trim()),e.push(t),e},[]).join(""),o=Object(x.sha256)("".concat(y()(encodeURIComponent(t))).concat(e));return n&&console.log(t,o),o}r.d(t,"createApi",function(){return d}),r.d(t,"loading",function(){return u}),r.d(t,"toast",function(){return m}),r.d(t,"encrypt",function(){return k});t.default=d}],c.c=l,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(n,e){if(1&e&&(n=c(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)c.d(t,r,function(e){return n[e]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="",c(c.s=13);function c(e){if(l[e])return l[e].exports;var n=l[e]={i:e,l:!1,exports:{}};return d[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}var d,l});